<mat-card
  class="product-card"
  [routerLink]="['/product', product().barcode]"
>
  <mat-card-header>
    <mat-card-title>{{ product().name }}</mat-card-title>
    <mat-card-subtitle>{{ product().barcode }}</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content>
    <div class="price-row">
      <span class="label">Best price:</span>
      <span class="price full-price">{{ cheapestFull() }}</span>
    </div>
    @if (cheapestDiscounted(); as deal) {
      <div class="price-row">
        <span class="label">Best deal:</span>
        <span class="price discounted-price">
          @if (deal.originalText) {
            <span class="original-price">{{ deal.originalText }}</span>
          }
          {{ deal.discountText }}
        </span>
      </div>
    }
    <div class="supermarket-count">
      {{ supermarketCount() }} supermarket{{ supermarketCount() === 1 ? '' : 's' }}
    </div>
  </mat-card-content>
</mat-card>
